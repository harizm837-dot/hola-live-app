<div class="analytics-page">
<style>
    .analytics-page {
        padding: 20px;
        animation: fadeIn 0.5s ease;
    }

    /* Grid Layout */
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }

    .stat-card {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 24px;
        padding: 20px;
        position: relative;
        overflow: hidden;
    }

    .stat-card::after {
        content: "";
        position: absolute;
        top: 0; right: 0;
        width: 100px; height: 100px;
        background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
        opacity: 0.05;
    }

    .stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .stat-title { color: var(--muted); font-size: 13px; font-weight: 600; text-transform: uppercase; }
    
    .stat-value { font-size: 28px; font-weight: 800; font-family: 'Montserrat'; color: #fff; }

    .stat-trend { font-size: 12px; font-weight: 600; padding: 4px 8px; border-radius: 8px; }
    .trend-up { background: rgba(77, 255, 136, 0.1); color: #4dff88; }

    /* Chart Containers */
    .chart-container {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 24px;
        padding: 20px;
        margin-bottom: 20px;
        height: 350px;
    }

    /* Top Gift List */
    .gift-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .gift-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: var(--glass);
        padding: 12px 16px;
        border-radius: 16px;
        border: 1px solid transparent;
        transition: 0.3s;
    }

    .gift-item:hover { border-color: var(--accent); transform: translateX(5px); }

    .gift-info { display: flex; align-items: center; gap: 10px; }
    .gift-icon { font-size: 20px; }

</style>

<div class="dashboard-grid">
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-title">–ù–∏–π—Ç “Æ–∑—ç–≥—á–∏–¥</span>
            <span class="stat-trend trend-up">‚Üë 12%</span>
        </div>
        <div class="stat-value" id="val-viewers">0</div>
    </div>
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-title">–û–ª—Å–æ–Ω –¢–æ–∫–µ–Ω</span>
            <span class="stat-trend trend-up">‚Üë 24%</span>
        </div>
        <div class="stat-value" id="val-tokens">0</div>
    </div>
    <div class="stat-card">
        <div class="stat-header">
            <span class="stat-title">VIP –ò–¥—ç–≤—Ö</span>
            <span class="stat-trend">Live</span>
        </div>
        <div class="stat-value" id="val-vip">0</div>
    </div>
</div>

<div class="dashboard-grid" style="grid-template-columns: 2fr 1fr;">
    <div class="chart-container">
        <h3 style="margin-bottom: 20px; font-size: 16px;">“Æ–∑—ç–≥—á–¥–∏–π–Ω –•”©–¥”©–ª–≥”©”©–Ω (Realtime)</h3>
        <canvas id="liveChart"></canvas>
    </div>

    <div class="stat-card">
        <h3 style="margin-bottom: 20px; font-size: 16px;">–¢“Ø–≥—ç—ç–º—ç–ª –ë—ç–ª—ç–≥</h3>
        <div class="gift-list">
            <div class="gift-item">
                <div class="gift-info"><span class="gift-icon">üöÄ</span> <span>–ü—É—É–∂–∏–Ω</span></div>
                <div style="font-weight: 700;">12</div>
            </div>
            <div class="gift-item">
                <div class="gift-info"><span class="gift-icon">üèéÔ∏è</span> <span>–ú–∞—à–∏–Ω</span></div>
                <div style="font-weight: 700;">45</div>
            </div>
            <div class="gift-item">
                <div class="gift-info"><span class="gift-icon">üëë</span> <span>–¢–∏—Ç—ç–º</span></div>
                <div style="font-weight: 700;">8</div>
            </div>
            <div class="gift-item">
                <div class="gift-info"><span class="gift-icon">üåπ</span> <span>–°–∞—Ä–Ω–∞–π</span></div>
                <div style="font-weight: 700;">1.2K</div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // 1. –î–∏–Ω–∞–º–∏–∫ —Ç–æ–æ–Ω—É—É–¥—ã–≥ —à–∏–Ω—ç—á–ª—ç—Ö
    function updateStats() {
        document.getElementById('val-viewers').innerText = (Math.floor(Math.random() * 500) + 1200).toLocaleString();
        document.getElementById('val-tokens').innerText = (Math.floor(Math.random() * 1000) + 5000).toLocaleString() + " üíé";
        document.getElementById('val-vip').innerText = Math.floor(Math.random() * 50) + 10;
    }
    setInterval(updateStats, 3000);
    updateStats();

    // 2. Realtime Chart —Ç–æ—Ö–∏—Ä–≥–æ–æ
    const ctx = document.getElementById('liveChart').getContext('2d');
    const liveChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['', '', '', '', '', '', '', '', '', ''],
            datasets: [{
                label: '“Æ–∑—ç–≥—á–∏–¥',
                data: [120, 150, 140, 180, 170, 210, 190, 240, 230, 250],
                borderColor: '#7df9ff',
                backgroundColor: 'rgba(125, 249, 255, 0.1)',
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointRadius: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
                y: { grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: '#9bb0c9' } },
                x: { grid: { display: false }, ticks: { display: false } }
            }
        }
    });

    // –ì—Ä–∞—Ñ–∏–∫–∏–π–≥ —Å–µ–∫—É–Ω–¥ —Ç—É—Ç–∞–º–¥ —Ö”©–¥”©–ª–≥”©—Ö
    setInterval(() => {
        liveChart.data.datasets[0].data.shift();
        liveChart.data.datasets[0].data.push(Math.floor(Math.random() * 100) + 200);
        liveChart.update('none');
    }, 2000);
</script>
</div>
